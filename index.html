<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Assistente Pesca Mare</title>
 
<style>
body {
margin: 0;
font-family: -apple-system, BlinkMacSystemFont, sans-serif;
background: linear-gradient(#eaf4fb, #dbe9f4);
color: #0a2a43;
}
 body.dark {
  background: #0f172a;
  color: #e2e8f0;
}
body.dark .card {
  background: #1e293b;
  color: #e2e8f0;
}
body.dark button {
  background: #334155;
  color: white;
}
body.dark footer {
  background: #1e293b;
}
header {
background: #0a2a43;
color: white;
padding: 16px;
text-align: center;
font-size: 20px;
font-weight: bold;
}
 #content {
padding: 20px;
padding-bottom: 90px;
}
 .grid {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 16px;
}
 .card {
background: white;
border-radius: 18px;
padding: 18px;
box-shadow: 0 6px 15px rgba(0,0,0,0.12);
text-align: center;
cursor: pointer;
}
 .mini-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
  gap: 10px;
  margin-bottom: 15px;
}
.mini-card {
  background: linear-gradient(145deg, #1c6ea4, #2989d8);
  color: white;
  padding: 10px;
  border-radius: 12px;
  text-align: center;
  font-size: 13px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  transition: transform 0.2s;
}
.mini-card:hover {
  transform: scale(1.05);
 }
 .mini-card.active {
  background: linear-gradient(145deg, #0a2a43, #144d73);
}
.detail-box {
  background: white;
  border-radius: 15px;
  padding: 15px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.15);
  margin-bottom: 20px;
  animation: fadeIn 0.3s ease;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
  .card h3 {
margin: 10px 0 6px;
}
.card p {
font-size: 14px;
opacity: 0.8;
}
 h2 {
margin-top: 0;
}
footer {
position: fixed;
bottom: 12px;
left: 0;
width: 100%;
background: white;
display: flex;
justify-content: space-around;
align-items: center;
height: 64px;
padding-bottom: env(safe-area-inset-bottom);
box-shadow: 0 -3px 10px rgba(0,0,0,0.1);
z-index: 1000;
}
footer button {
background: none;
border: none;
font-size: 13px;
color: #0a2a43;
}
 #listaSpecie {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
}
</style>
</head>
<body>
 
<header>
ğŸ£ Assistente Pesca Mare
</header>
 
<div id="content"></div>
 <footer>
<button onclick="showHome()">ğŸ  Home</button>
<button onclick="showTecniche()">ğŸŒŠ Tecniche</button>
<button onclick="showSpecie()">ğŸŸ Specie</button>
<button onclick="showMontature()">ğŸª Montature</button>
<button onclick="showNodi()">ğŸ§µ Nodi</button>
<button onclick="toggleTema()">ğŸŒ™ Dark Mode</button> 
</footer>
<script>
/* HOME */
 function toggleTema() {
  document.body.classList.toggle("dark");
  if (document.body.classList.contains("dark")) {
    localStorage.setItem("tema", "dark");
  } else {
    localStorage.setItem("tema", "light");
  }
}

function caricaTema() {
  const temaSalvato = localStorage.getItem("tema");
  if (temaSalvato === "dark") {
    document.body.classList.add("dark");
  }
}
function showHome() {
document.getElementById("content").innerHTML = `
<div class="grid">
<div class="card" onclick="showTecniche()">
ğŸ–ï¸
<h3>Tecniche Mare</h3>
<p>Surfcasting, spinning, egingâ€¦</p>
</div>
<div class="card" onclick="showSpecie()">
ğŸŸ
<h3>Specie</h3>
<p>I pesci piÃ¹ pescati</p>
</div>
<div class="card" onclick="showMontature()">
ğŸª
<h3>Montature</h3>
<p>Spiegate passo-passo</p>
</div>
<div class="card" onclick="showNodi()">
ğŸ§µ
<h3>Nodi</h3>
<p>Con immagini</p>
</div>
</div>
`;
}
/* TECNICHE */
function showTecniche() {
document.getElementById("content").innerHTML = `
<h2>ğŸŒŠ Tecniche di Pesca in Mare</h2>
 
<div class="card" onclick="showSurfcasting()">
<b>Surfcasting</b><br>
Pesca dalla spiaggia con piombi pesanti
</div>
<div class="card" onclick="showSpinning()">
<b>Spinning</b><br>
Esche artificiali da riva
</div>
<div class="card" onclick="showEging()">
<b>Eging</b><br>
Pesca a seppie e calamari
</div>
<div class="card" onclick="showFondo()">
<b>Pesca a Fondo</b><br>
Porto e scogliera
</div>
<div class="card" onclick="showGalleggiante()">
<b>Galleggiante</b><br>
Tecnica precisa e leggera
</div>

`;
}
 
/* SPECIE */
function showSpecie() {
  let html = `
    <h2>ğŸŸ Specie</h2>

    <div class="card">
      <input type="text" id="searchInput"
        placeholder="Cerca specie..."
        style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;"
        onkeyup="filtraSpecie()">
    </div>

    <div id="listaSpecie"></div>
  `;
  document.getElementById("content").innerHTML = html;
  mostraTutteLeSpecie();
}
function mostraTutteLeSpecie() {
  let html = "";

  for (let key in specie) {
    html += `
      <div class="card" onclick="showSpecieDetail('${key}')">
        ğŸŸ ${specie[key].nome}
      </div>
    `;
  }
  document.getElementById("listaSpecie").innerHTML = html;
}

function filtraSpecie() {
  let filtro = document.getElementById("searchInput").value.toLowerCase();
  let html = "";

  for (let key in specie) {
    if (specie[key].nome.toLowerCase().includes(filtro)) {
      html += `
        <div class="card" onclick="showSpecieDetail('${key}')">
          ğŸŸ ${specie[key].nome}
        </div>
      `;
    }
  }

  document.getElementById("listaSpecie").innerHTML = html;
}

 
/* MONTATURE */
function showMontature() {
document.getElementById("content").innerHTML = `
<h2>ğŸª Montature</h2>

<div class="card">
<img src="./img/pater-noster.jpg" width="15%">
<b>Pater Noster</b>
</div>

<div class="card">
<img src="./img/piombo-scorrevole.jpg" width="15%">
<b>Piombo Scorrevole</b>
</div>

<div class="card">
<img src="./img/long-arm.jpg" width="15%">
<b>Long Arm</b>
</div>

<div class="card">
<img src="./img/bandiera.jpg" width="25%">
<b>Bandiera</b>
</div>

<div class="card">
<img src="./img/bandiera-pop-up.jpg" width="25%">
<b>Bandiera Pop-Up</b>
</div>

<div class="card">
<img src="./img/bum-bum.jpg" width="25%">
<b>Bum Bum</b>
</div>

<div class="card">
<img src="./img/linea-longa.jpg" width="25%">
<b>Linea Longa</b>
</div>

<div class="card">
<img src="./img/minitrave-amo-pescatore.jpg" width="25%">
<b>Minitrave Amo Pescatore</b>
</div>

<div class="card">
<img src="./img/pulley.jpg" width="25%">
<b>Pulley</b>
</div>

<div class="card">
<img src="./img/ravennate.jpg" width="25%">
<b>Ravennate</b>
</div>

<div class="card">
<img src="./img/short-rovesciato.jpg" width="25%">
<b>Short Rovesciato</b>
</div>

<div class="card">
<img src="./img/totanara.jpg" width="25%">
<b>Totanara</b>
</div>

<div class="card">
<img src="./img/tri-amo.jpg" width="25%">
<b>Tri Amo</b>
</div>

<button onclick="showMontature()">â¬…ï¸ Torna alle Montature</button>
`;
}
  function generaMontatureSpecie(listaMontature) {

  if (!listaMontature || listaMontature.length === 0) return "";

  let html = "<div class='card'><b>ğŸª Montature consigliate</b><br><br>";

  listaMontature.forEach(m => {
    html += `
      <div style="margin:6px 0; cursor:pointer; color:#0a2a43;"
           onclick="showMontaturaDetail('${m}')">
           â€¢ ${m.replaceAll("-", " ")}
      </div>
    `;
  });

  html += "</div>";

  return html;
}
/* NODI */
function showNodi() {
document.getElementById("content").innerHTML = `
<h2>ğŸ§µ Nodi da Pesca</h2>
 
<div class="card">
<b>Nodo Clinch</b><br><br>
<img src="./img/nodo-clinch.jpg" width="30%"><br><br>
<b>Uso:</b> Ami, girelle, moschettoni<br>
<b>Filo:</b> Nylon / Fluorocarbon
</div>
 
<div class="card">
<b>Nodo Palomar</b><br><br>
<img src="./img/nodo-palomar.jpg" width="30%"><br><br>
<b>Uso:</b> Ami e artificiali<br>
<b>Filo:</b> Trecciato (ottimo anche su nylon)
</div>
 
<div class="card">
<b>Nodo FG</b><br><br>
<img src="./img/nodo-fg.jpg" width="30%"><br><br>
<b>Uso:</b> Collegare treccia a fluorocarbon<br>
<b>Filo:</b> Treccia â†’ Fluoro
</div>
 
<div class="card">
<b>Nodo Albright</b><br><br>
<img src="./img/nodo-albright.jpg" width="30%"><br><br>
<b>Uso:</b> Unire fili di diametro diverso<br>
<b>Filo:</b> Nylon / Treccia
</div>
 
<div class="card">
<b>Nodo di Sangue</b><br><br>
<img src="./img/nodo-sangue.jpg" width="30%"><br><br>
<b>Uso:</b> Unire due fili simili<br>
<b>Filo:</b> Nylon / Fluorocarbon
</div>
 
<div class="card">
<b>Nodo Rapala</b><br><br>
<img src="./img/nodo-rapala.jpg" width="30%"><br><br>
<b>Uso:</b> Artificiali con movimento libero<br>
<b>Filo:</b> Nylon / Fluorocarbon
</div>
`;
}
function showSurfcasting() {
document.getElementById("content").innerHTML = `
<h2>ğŸ–ï¸ Surfcasting</h2>
 
<div class="card">
<b>Quando usarla</b><br>
Mare mosso o formato, spiagge sabbiose, alba e tramonto
</div>
 
<div class="card">
<b>Attrezzatura base</b><br>
Canna 4â€“4,5 m â€¢ Mulinello 8000â€“14000 â€¢ Nylon 0,35â€“0,40
</div>
 
<div class="card"><b>Montature dedicate</b><br><br>
 
<button onclick="showTrave()">Montatura a Trave</button><br><br>
<button onclick="showPaternoster()">Paternoster</button><br><br>
<button onclick="showLongArm()">Long Arm</button>
</div>
 
<div class="card">
<b>Pro</b><br>
Raggiunge grandi distanze, ideale per grossi pesci
</div>
 
<div class="card">
<b>Contro</b><br>
Tecnica impegnativa, attrezzatura pesante
</div>
 
<div class="card">
<b>ğŸ¥ Video tutorial</b><br>
<a href="https://www.youtube.com/results?search_query=surfcasting+montatura"
target="_blank">Guarda su YouTube</a>
</div>
${generaSpeciePerTecnica("surfcasting")} 
<button onclick="showTecniche()">â¬…ï¸ Torna alle tecniche</button>
`;
}
 function showGalleggiante() {
  document.getElementById("content").innerHTML = `
  <h2>ğŸˆ Galleggiante</h2>

  <div class="card">
    <b>Quando usarla</b><br>
    Mare calmo â€¢ Porto â€¢ Scogliera
  </div>

  <div class="card">
    <b>Attrezzatura base</b><br>
    Canna 4â€“6 m â€¢ Nylon sottile â€¢ Galleggiante fisso o scorrevole
  </div>

  <div class="card">
    <b>Specie principali</b><br>
    Cefalo â€¢ Sarago â€¢ Occhiata â€¢ Orata piccola
  </div>

  <div class="card">
    <b>Montature dedicate</b><br><br>
    <button onclick="showMontaturaGalleggiante()">Montatura a Galleggiante</button>
  </div>

  <div class="card">
    <b>Pro</b><br>
    Tecnica precisa e sensibile
  </div>

  <div class="card">
    <b>Contro</b><br>
    Poco efficace con mare mosso
  </div>

  <div class="card">
    <b>ğŸ¥ Video tutorial</b><br>
    <a href="https://www.youtube.com/results?search_query=pesca+con+galleggiante+mare"
       target="_blank">Guarda su YouTube</a>
  </div>
${generaSpeciePerTecnica("galleggiante")}
  <button onclick="showTecniche()">â¬…ï¸ Torna alle tecniche</button>
  `;
}
function showMontaturaGalleggiante() {
  document.getElementById("content").innerHTML = `
  <h2>ğŸˆ Montatura Galleggiante</h2>

  <div class="card">
    <b>Composizione</b><br><br>
    Galleggiante â€¢ Piombini distribuiti<br>
    Finale 40â€“80 cm<br><br>
    <img src="./img/ravennate.jpg"
         style="width:100%;max-width:280px;border-radius:12px;">
  </div>
  <div class="card">
    <b>Esche consigliate</b><br>
    Bigattino â€¢ Pane â€¢ Coreano
  </div>
  <div class="card">
    <b>ğŸ¥ Video tutorial</b><br>
    <a href="https://www.youtube.com/results?search_query=montatura+galleggiante+mare"
       target="_blank">Guarda su YouTube</a>
  </div>
  <button onclick="showGalleggiante()">â¬…ï¸ Torna al Galleggiante</button>
  `;
}
function showSpinning() {
  const dati = tecnicheData.spinning;
  document.getElementById("content").innerHTML = `
    <h2>ğŸ£ Spinning</h2>
    <div class="card">
      Tecnica dinamica con artificiali per predatori costieri.
    </div>
    <h3>ğŸª± Esche consigliate</h3>
    ${generaMiniCard(dati.esche, "spinning")}
    <h3>ğŸª¨ Piombi consigliati</h3>
    ${generaAccordion(dati.piombi, "spinning-piombo")}
    <button onclick="showTecniche()">â¬…ï¸ Torna alle tecniche</button>
  `;
}
 function showEging() {
  document.getElementById("content").innerHTML = `
  <h2>ğŸ¦‘ Eging</h2>

  <div class="card">
    <b>Quando usarla</b><br>
    Mare calmo â€¢ Sera e notte â€¢ Porti e moli
  </div>

  <div class="card">
    <b>Attrezzatura base</b><br>
    Canna 2,40â€“2,60 m â€¢ Mulinello 2500<br>
    Treccia sottile + finale fluorocarbon
  </div>

  <div class="card">
    <b>Montature dedicate</b><br><br>
    <button onclick="showTotanara()">Totanara / Egi</button>
  </div>

  <div class="card">
    <b>Pro</b><br>
    Tecnica tecnica e divertente
  </div>

  <div class="card">
    <b>Contro</b><br>
    Molto stagionale
  </div>
${generaSpeciePerTecnica("eging")}
  <button onclick="showTecniche()">â¬…ï¸ Torna alle tecniche</button>
  `;
}
function showTrave() {
document.getElementById("content").innerHTML = `
<h2>ğŸª Montatura a Trave</h2>

<div class="card">
<b>Quando usarla</b><br>
Mare mosso â€¢ Surfcasting classico â€¢ Spiaggia
</div>

<div class="card">
<b>Composizione</b><br><br>
Trave 120â€“150 cm â€¢ 1â€“2 braccioli â€¢ Piombo fisso<br><br>
<img src="./img/bandiera.jpg" 
style="width:100%;max-width:280px;border-radius:12px;">
</div>

<div class="card">
<b>Esche consigliate</b><br>
Arenicola â€¢ Americano â€¢ Bibi
</div>

<div class="card">
<b>ğŸ¥ Video tutorial</b><br>
<a href="https://www.youtube.com/results?search_query=montatura+a+trave+surfcasting"
target="_blank">Guarda su YouTube</a>
</div>

<button onclick="showSurfcasting()">â¬…ï¸ Torna al Surfcasting</button>
`;
}
function showPaternoster() {
document.getElementById("content").innerHTML = `
<h2>ğŸª Paternoster</h2>

<div class="card">
<b>Quando usarla</b><br>
Fondali misti â€¢ Pesce sospeso
</div>

<div class="card">
<b>Composizione</b><br><br>
Braccioli alti â€¢ Piombo finale â€¢ Terminali corti<br><br>
<img src="./img/pater-noster.jpg" 
style="width:100%;max-width:280px;border-radius:12px;">
</div>

<div class="card">
<b>Esche consigliate</b><br>
Coreano â€¢ Americano â€¢ Gambero
</div>

<div class="card">
<b>ğŸ¥ Video tutorial</b><br>
<a href="https://www.youtube.com/results?search_query=montatura+paternoster+pesca"
target="_blank">Guarda su YouTube</a>
</div>

<button onclick="showSurfcasting()">â¬…ï¸ Torna al Surfcasting</button>
`;
}
function showLongArm() {
document.getElementById("content").innerHTML = `
<h2>ğŸª Long Arm</h2>

<div class="card">
<b>Quando usarla</b><br>
Mare calmo â€¢ Pesci sospettosi
</div>

<div class="card">
<b>Composizione</b><br><br>
Bracciolo 120â€“200 cm â€¢ Piombo scorrevole<br><br>
<img src="./img/long-arm.jpg" 
style="width:100%;max-width:280px;border-radius:12px;">
</div>

<div class="card">
<b>Esche consigliate</b><br>
Tremolina â€¢ Arenicola â€¢ Bibi
</div>

<div class="card">
<b>ğŸ¥ Video tutorial</b><br>
<a href="https://www.youtube.com/results?search_query=montatura+long+arm+surfcasting"
target="_blank">Guarda su YouTube</a>
</div>

<button onclick="showSurfcasting()">â¬…ï¸ Torna al Surfcasting</button>
`;
}
function showTotanara() {
  document.getElementById("content").innerHTML = `
  <h2>ğŸ¦‘ Totanara (Egi)</h2>

  <div class="card">
    <b>Quando usarla</b><br>
    In presenza di seppie, totani e calamari<br>
    Porti illuminati e fondali misti
  </div>

  <div class="card" style="display:flex; flex-direction:column; align-items:center;">
    <b>Composizione</b><br><br>
    Artificiale Egi collegato a finale fluorocarbon 0,25â€“0,35<br><br>
    
    <b>ğŸ“· Foto montatura</b><br><br>
    <img src="./img/totanara.jpg" 
         style="width:100%; max-width:250px; border-radius:12px; cursor:pointer;"
         onclick="this.style.transform='scale(1.4)'; setTimeout(()=>this.style.transform='scale(1)',500);">
  </div>

  <div class="card">
    <b>Recupero</b><br>
    Lancio â€¢ Affondamento â€¢ 2â€“3 jerk â€¢ Pausa
  </div>

  <div class="card">
    <b>ğŸ¥ Video tutorial</b><br>
    <a href="https://www.youtube.com/results?search_query=montatura+eging+totanara"
       target="_blank">Guarda su YouTube</a>
  </div>

  <button onclick="showEging()">â¬…ï¸ Torna a Eging</button>
  `;
}
 function showFondo() {
  document.getElementById("content").innerHTML = `
  <h2>âš“ Pesca a Fondo</h2>

  <div class="card">
    <b>Quando usarla</b><br>
    Tutto l'anno â€¢ Porto â€¢ Scogliera â€¢ Spiaggia
  </div>

  <div class="card">
    <b>Attrezzatura base</b><br>
    Canna 3â€“4 m â€¢ Mulinello 4000â€“6000<br>
    Nylon 0,30â€“0,40
  </div>

  <div class="card">
    <b>Specie principali</b><br>
    Orata â€¢ Saraghi â€¢ Mormora â€¢ Scorfano â€¢ Pagello
  </div>

  <div class="card">
    <b>Montature dedicate</b><br><br>
    <button onclick="showPiomboScorrevole()">Piombo Scorrevole</button><br><br>
    <button onclick="showPaternoster()">Paternoster</button><br><br>
    <button onclick="showLongArm()">Long Arm</button>
  </div>

  <div class="card">
    <b>Pro</b><br>
    Tecnica semplice e versatile
  </div>

  <div class="card">
    <b>Contro</b><br>
    Rischio incagli â€¢ Meno selettiva
  </div>

  <div class="card">
    <b>ğŸ¥ Video tutorial</b><br>
    <a href="https://www.youtube.com/results?search_query=pesca+a+fondo+mare"
       target="_blank">Guarda su YouTube</a>
  </div>
${generaSpeciePerTecnica("fondo")}
  <button onclick="showTecniche()">â¬…ï¸ Torna alle tecniche</button>
  `;
}
 function showPiomboScorrevole() {
  document.getElementById("content").innerHTML = `
  <h2>ğŸª Piombo Scorrevole</h2>

  <div class="card">
    <b>Quando usarla</b><br>
    Mare calmo â€¢ Pesci diffidenti
  </div>

  <div class="card">
    <b>Composizione</b><br><br>
    Piombo scorrevole sulla lenza madre<br>
    Girella â€¢ Finale 80â€“150 cm<br><br>
    <img src="./img/piombo-scorrevole.jpg"
         style="width:100%;max-width:280px;border-radius:12px;">
  </div>

  <div class="card">
    <b>Esche consigliate</b><br>
    Arenicola â€¢ Coreano â€¢ Gambero
  </div>

  <div class="card">
    <b>ğŸ¥ Video tutorial</b><br>
    <a href="https://www.youtube.com/results?search_query=montatura+piombo+scorrevole+mare"
       target="_blank">Guarda su YouTube</a>
  </div>

  <button onclick="showFondo()">â¬…ï¸ Torna alla Pesca a Fondo</button>
  `;
}
 
/* --- DATI SPECIE --- */
const specie = {
orata: {
  nome: "Orata",
  scientifico: "Sparus aurata",
  img: "img/orata.jpg",
  descrizione: "Pesce pregiato di fondale sabbioso e misto.",
  tecniche: "Pesca a fondo, surfcasting",
  montature: ["pater-noster", "long-arm", "piombo-scorrevole"],
 stagione: [1,2,3,4,10,11,12]
},
spigola: {
  nome: "Spigola / Branzino",
  scientifico: "Dicentrarchus labrax",
  img: "img/spigola.jpg",
  descrizione: "Predatore costiero molto combattivo.",
  tecniche: "Spinning, surfcasting, fondo",
  montature: ["long-arm", "piombo-scorrevole", "short-rovesciato"],
 stagione: [1,2,3,4,11,12]
},
"sarago-maggiore": {
  nome: "Sarago maggiore",
  scientifico: "Diplodus sargus",
  img: "img/sarago-maggiore.jpg",
  descrizione: "Tipico dei fondali rocciosi.",
  tecniche: "Pesca a fondo, bolognese",
  montature: ["pater-noster", "piombo-scorrevole", "trave"],
 stagione: [1,2,3,4,5,6,7,8,9,10,11,12]
},
"sarago-pizzuto": {
  nome: "Sarago pizzuto",
  scientifico: "Diplodus puntazzo",
  img: "img/sarago-pizzuto.jpg",
  descrizione: "Sarago piÃ¹ affusolato e diffidente.",
  tecniche: "Pesca a fondo",
  montature: ["long-arm", "pater-noster"],
 stagione: [1,2,3,4,5,6,7,8,9,10,11,12]
},
mormora: {
  nome: "Mormora",
  scientifico: "Lithognathus mormyrus",
  img: "img/mormora.jpg",
  descrizione: "Classica preda del surfcasting.",
  tecniche: "Surfcasting",
  montature: ["long-arm", "pater-noster", "short-rovesciato"],
 stagione: [5,6,7,8,9,10]
},
occhiata: {
  nome: "Occhiata",
  scientifico: "Oblada melanura",
  img: "img/occhiata.jpg",
  descrizione: "Pesce costiero che vive in branchi.",
  tecniche: "Galleggiante, fondo leggero",
  montature: ["pater-noster", "galleggiante-mare"],
 stagione: [5,6,9,10]
},
sugarello: {
  nome: "Sugarello",
  scientifico: "Trachurus trachurus",
  img: "img/sugarello.jpg",
  descrizione: "Pesce pelagico molto attivo.",
  tecniche: "Spinning, bolentino",
  montature: ["pater-noster", "trave"],
 stagione: [3,4,5,6,7,8,9]
},
pagello: {
  nome: "Pagello",
  scientifico: "Pagellus erythrinus",
  img: "img/pagello.jpg",
  descrizione: "Vive su fondali sabbiosi e misti.",
  tecniche: "Fondo, bolentino",
  montature: ["pater-noster", "trave"],
 stagione: [1,2,3,4,5,6,7,8,9,10,11,12]
},
scorfano: {
  nome: "Scorfano",
  scientifico: "Scorpaena scrofa",
  img: "img/scorfano.jpg",
  descrizione: "Pesce di scogliera, attenzione alle spine.",
  tecniche: "Fondo, scogliera",
  montature: ["pater-noster", "piombo-scorrevole", "trave"],
 stagione: [1,2,3,4,5,6,7,8,9,10,11,12]
},
leccia: {
  nome: "Leccia",
  scientifico: "Lichia amia",
  img: "img/leccia.jpg",
  descrizione: "Grande predatore costiero.",
  tecniche: "Spinning, vivo",
  montature: ["long-arm", "piombo-scorrevole"],
 stagione: [4,5,6]
},
palamita: {
  nome: "Palamita",
  scientifico: "Sarda sarda",
  img: "img/palamita.jpg",
  descrizione: "Predatore veloce e combattivo.",
  tecniche: "Spinning, traina",
  montature: ["long-arm", "piombo-scorrevole"],
 stagione: [4,5,6,7,8,9,10]
},
serra: {
  nome: "Pesce Serra",
  scientifico: "Pomatomus saltatrix",
  img: "img/serra.jpg",
  descrizione: "Predatore aggressivo con dentatura affilata.",
  tecniche: "Spinning, surfcasting",
  montature: ["long-arm", "piombo-scorrevole"],
 stagione: [7,8,9]
},
cefalo: {
  nome: "Cefalo",
  scientifico: "Mugil cephalus",
  img: "img/cefalo.jpg",
  descrizione: "Molto diffuso in porto e laguna.",
  tecniche: "Galleggiante",
  montature: ["galleggiante-mare", "piombo-scorrevole"],
 stagione: [3,4,5,6,7,8,9,10,11]
},
dentice: {
  nome: "Dentice",
  scientifico: "Dentex dentex",
  img: "img/dentice.jpg",
  descrizione: "Predatore di fondale roccioso.",
  tecniche: "Fondo, vivo",
  montature: ["long-arm", "trave"],
 stagione: [3,4,5,6,7,8,9,10]
},
ricciola: {
  nome: "Ricciola",
  scientifico: "Seriola dumerili",
  img: "img/ricciola.jpg",
  descrizione: "Grande predatore pelagico.",
  tecniche: "Spinning, traina",
  montature: ["long-arm", "piombo-scorrevole"],
 stagione: [6,7,8,9,10]
},
sarda: {
  nome: "Sarda",
  scientifico: "Sarda sarda",
  img: "img/sarda.jpg",
  descrizione: "Pesce azzurro molto combattivo.",
  tecniche: "Spinning, bolentino",
  montature: ["pater-noster", "trave", "galleggiante-mare"],
stagione: [1,2,9,10,11,12] 
},
totano: {
  nome: "Totano",
  scientifico: "Todarodes sagittatus",
  img: "img/totano.jpg",
  descrizione: "Cefalopode pescato in profonditÃ .",
  tecniche: "Eging, bolentino",
  montature: ["pater-noster", "piombo-scorrevole"],
 stagione: [1,2,10,11,12]
},
seppia: {
  nome: "Seppia",
  scientifico: "Sepia officinalis",
  img: "img/seppia.jpg",
  descrizione: "Cefalopode costiero molto diffuso.",
  tecniche: "Eging",
  montature: ["piombo-scorrevole", "pater-noster"],
 stagione: [4,5,10,11,12]
}
};
 
const tecnicheData = {
  spinning: {
    esche: [
      {
        nome: "Minnow",
        img: "img/minnow.jpg",
        descrizione: "Imita un piccolo pesce foraggio. Disponibile floating, suspending o sinking.",
        mare: "Calmo / Poco mosso",
        target: "Spigola, Serra, Leccia stella",
        efficacia: 5
      },
      {
        nome: "Jerkbait",
        img: "img/jerkbait.jpg",
        descrizione: "Artificiale dal movimento nervoso per stimolare attacchi aggressivi.",
        mare: "Leggermente mosso",
        target: "Serra, Palamita",
        efficacia: 4
      },
      {
      nome: "Soft Bait",
        img: "img/softbait.jpg",
        descrizione: "Esca in silicone montata su jig head, molto versatile.",
        mare: "Calmo",
        target: "Spigola, Sugarello",
        efficacia: 4
      },
      {
        nome: "Metal Jig",
        img: "img/metal-jig.jpg",
        descrizione: "Artificiale metallico per lanci lunghi e pesca in profonditÃ .",
        mare: "Mosso / Corrente",
        target: "Palamita, Serra",
        efficacia: 5
      },
      {
        nome: "Top Water / Popper",
        img: "img/popper.jpg",
        descrizione: "Lavora in superficie. Attacchi spettacolari allâ€™alba e tramonto.",
        mare: "Calmo",
        target: "Leccia stella, Serra",
        efficacia: 4
      }
    ],
    piombi: [
      {
        nome: "Jig Head",
        img: "img/jig-head.jpg",
        descrizione: "Testa piombata per soft bait.",
        peso: "5g â€“ 30g"
      },
      {
        nome: "Piombo interno",
        img: "img/piombo-interno.jpg",
        descrizione: "Permette assetto naturale nel silicone.",
        peso: "Variabile"
      }
    ]
  }
};
 function generaAccordion(lista, tipo) {
  return lista.map((item, index) => `
    <div class="card">
      <div onclick="toggleAccordion('${tipo}-${index}')" style="cursor:pointer;font-weight:bold;">
        â–¶ ${item.nome}
      </div>
      <div id="${tipo}-${index}" style="display:none;margin-top:10px;">
        <img src="${item.img}" style="width:30%;max-width:220px;border-radius:12px;margin-bottom:10px auto;display:block;">
        <p>${item.descrizione}</p>
        ${item.mare ? `<p><strong>Mare:</strong> ${item.mare}</p>` : ""}
        ${item.target ? `<p><strong>Target:</strong> ${item.target}</p>` : ""}
        ${item.efficacia ? `<p><strong>Efficacia:</strong> ${"â­".repeat(item.efficacia)}</p>` : ""}
        ${item.peso ? `<p><strong>Peso:</strong> ${item.peso}</p>` : ""}
      </div>
    </div>
  `).join("");
}
function generaMiniCard(lista, tipo) {
  return `
    <div class="mini-grid">
      ${lista.map((item, index) => `
        <div class="mini-card" onclick="apriDettaglio('${tipo}', ${index})">
          ${item.nome}
        </div>
      `).join("")}
    </div>
    <div id="${tipo}-detail"></div>
  `;
}

function apriDettaglio(tipo, index) {
  const lista = tecnicheData[tipo].esche;
  const item = lista[index];
  const container = document.getElementById(tipo + "-detail");

  if (!item) return;

  if (container.dataset.open == index) {
    container.innerHTML = "";
    container.dataset.open = "";
    return;
  }

  container.dataset.open = index;

  container.innerHTML = `
    <div class="detail-box">
      <h3>${item.nome}</h3>
      <img src="${item.img}" style="width:55%;max-width:200px;border-radius:12px;display:block;margin:10px auto;">
      <p>${item.descrizione}</p>
      <p><strong>Mare:</strong> ${item.mare}</p>
      <p><strong>Target:</strong> ${item.target}</p>
      <p><strong>Efficacia:</strong> ${"â­".repeat(item.efficacia)}</p>
    </div>
  `;
}

 function toggleAccordion(id) {
  const el = document.getElementById(id);
  el.style.display = el.style.display === "none" ? "block" : "none";
}
 function showSpecieDetail(id) {
const p = specie[id];
if (!p) return;
 document.getElementById("content").innerHTML = `
<div class="card">
<h2>${p.nome}</h2>
<em>${p.scientifico}</em>
<img src="${p.img}" style="width:50%;border-radius:12px;margin:12px 0;">
<p>${p.descrizione}</p>
${generaMontatureSpecie(p.montature)}
${generaCalendario(p.stagione)}
<p><strong>Tecniche:</strong> ${p.tecniche}</p><p>${p.descrizione}</p>
<p><strong>Stagione migliore:</strong> ${p.stagione ? p.stagione.join(", ") : "Non specificata"}</p>
<button onclick="showSpecie()">â¬…ï¸ Torna alle specie</button>
</div>
`;
}

 function generaCalendario(stagione) {
  if (!stagione) return "";
  const mesi = ["Gen","Feb","Mar","Apr","Mag","Giu",
                "Lug","Ago","Set","Ott","Nov","Dic"];
  const meseCorrente = new Date().getMonth() + 1;
  let html = "<div class='card'><b>ğŸ“… Calendario attivitÃ </b><br><br>";
  html += "<div style='display:flex;flex-wrap:wrap;gap:6px;'>";
  for (let i = 1; i <= 12; i++) {
    let attivo = stagione.includes(i);
    let stile = `
      padding:6px 8px;
      border-radius:6px;
      font-size:12px;
      text-align:center;
      min-width:32px;
      ${attivo ? "background:#2ecc71;color:white;" : "background:#eee;"}
      ${i === meseCorrente ? "border:2px solid #007bff;" : ""}
    `;
    html += `<div style="${stile}">${mesi[i-1]}</div>`;
  }
  html += "</div></div>";
  return html;
}
 function generaSpeciePerTecnica(nomeTecnica) {
  let html = "<div class='card'><b>ğŸŸ Specie consigliate</b><br><br>";

  for (let key in specie) {
    if (specie[key].tecniche.toLowerCase().includes(nomeTecnica.toLowerCase())) {
      html += `
        <div style="margin:6px 0; cursor:pointer; color:#0a2a43;"
             onclick="showSpecieDetail('${key}')">
             â€¢ ${specie[key].nome}
        </div>
      `;
    }
  }

  html += "</div>";
  return html;
}
 
/* --- AVVIO APP --- */
caricaTema(); 
showHome();
</script>
 
</body>
</html>





























































































